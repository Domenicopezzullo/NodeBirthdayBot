/* Optimized production build generated by CommandKit */
import {
  ChannelModel
} from "../chunk-NWS66UTQ.js";
import {
  __name
} from "../chunk-4HQ2LG3N.js";

// src/commands/set_birthday_channel.ts
import { ApplicationCommandOptionType, MessageFlags } from "discord.js";
var data = {
  name: "set_birthday_channel",
  description: "Set the birthday channel! (Admins only)",
  options: [
    {
      name: "channel",
      description: "Channel ID",
      type: ApplicationCommandOptionType.Channel,
      required: true
    }
  ]
};
function run({ interaction, client, handler }) {
  if (!interaction.guild)
    return;
  const channel = interaction.options.getChannel("channel");
  if (!channel)
    return;
  ChannelModel.collection.updateOne({
    guildId: interaction.guild.id
  }, {
    "$set": {
      channelId: channel.id
    }
  }, { upsert: true }).then(() => {
    interaction.reply({
      content: "Birthday channel set to " + channel.name,
      flags: MessageFlags.Ephemeral
    });
  }).catch((err) => {
    interaction.reply({
      content: "Error: " + err,
      flags: MessageFlags.Ephemeral
    });
  });
}
__name(run, "run");
var options = {
  userPermissions: ["Administrator"],
  botPermissions: "SendMessages"
};
export {
  data,
  options,
  run
};
