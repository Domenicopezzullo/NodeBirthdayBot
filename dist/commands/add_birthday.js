/* Optimized production build generated by CommandKit */
import {
  BirthdayModel
} from "../chunk-IOHRENFB.js";
import {
  __name
} from "../chunk-4HQ2LG3N.js";

// src/commands/add_birthday.ts
import { ApplicationCommandOptionType, MessageFlags } from "discord.js";
var data = {
  name: "add_birthday",
  description: "Add your birthday!",
  options: [
    {
      name: "birthday",
      description: "Your birthday (dd/mm)",
      type: ApplicationCommandOptionType.String,
      required: true
    }
  ]
};
async function run({ interaction, client, handler }) {
  if (!interaction.guild)
    return;
  const birthday = interaction.options.getString("birthday");
  BirthdayModel.collection.updateOne({
    userId: interaction.user.id
  }, {
    $set: {
      userName: interaction.user.displayName,
      userId: interaction.user.id,
      birthday,
      guildId: interaction.guild.id
    }
  }, { upsert: true }).then(() => {
    interaction.reply({
      content: "Birthday added!",
      flags: MessageFlags.Ephemeral
    });
  }).catch((err) => {
    interaction.reply({
      content: "Error: " + err,
      flags: MessageFlags.Ephemeral
    });
  });
}
__name(run, "run");
export {
  data,
  run
};
